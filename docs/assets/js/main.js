(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},18:function(t,e,n){n(19),n(40),t.exports=n(45)},19:function(t,e,n){"use strict";n.r(e);n(5),n(20)},2:function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:c}catch(t){i=c}}();var s,l=[],u=!1,d=-1;function f(){u&&s&&(u=!1,s.length?l=s.concat(l):d=-1,l.length&&p())}function p(){if(!u){var t=a(f);u=!0;for(var e=l.length;e;){for(s=l,l=[];++d<e;)s&&s[d].run();d=-1,e=l.length}s=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===c||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||u||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},20:function(t,e,n){"use strict";(function(t,e){var i=n(4);function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}new t({el:"#app",data:{cards:i,cardLength:i.length,cardtest:[],addText:null,removeText:null,select:{col:{state:4,active:!1,show:!1,list:[{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10}]},rowgap:{state:30,active:!1,show:!1,list:[{id:0},{id:5},{id:10},{id:15},{id:20},{id:25},{id:30},{id:35},{id:40},{id:45},{id:50}]},colgap:{state:20,active:!1,show:!1,list:[{id:0},{id:5},{id:10},{id:15},{id:20},{id:25},{id:30}]}}},methods:{rowStyle:function(){return{marginTop:"-".concat(this.select.rowgap.state,"px"),marginLeft:"-".concat(this.select.colgap.state,"px")}},colStyle:function(){var t=1/Number(this.select.col.state)*100;return{paddingTop:"".concat(this.select.rowgap.state,"px"),paddingLeft:"".concat(this.select.colgap.state,"px"),width:"".concat(t,"%")}},StyleWidth:function(){return Math.floor(1/Number(this.select.col.state)*100*1e4)/1e4},shuffle:function(){this.cards=e.shuffle(this.cards)},add:function(){if(this.cards.length+1<=this.cardLength){var t=this.cardtest[this.cardtest.length-1];this.cardtest.pop(),this.cards.push(t),this.addText=null,this.removeText=null}else this.addText="これ以上追加できません"},remove:function(){if(this.cards.length>=1){var t=this.cards[this.cards.length-1];this.cardtest=[].concat(o(this.cardtest),[t]),this.cards.pop(),this.addText=null,this.removeText=null}else this.removeText="これ以上削除できません"},selectEv:function(t,e){"number"==typeof e&&(t.state=e),t.show=!t.show}}})}).call(this,n(6),n(8))},3:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,o,r,c,a,s=1,l={},u=!1,d=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){h(t.data)},i=function(t){r.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):i=function(t){setTimeout(h,0,t)}:(c="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(c)&&h(+e.data.slice(c.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(c+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return l[s]=o,i(s),s++},f.clearImmediate=p}function p(t){delete l[t]}function h(t){if(u)setTimeout(h,0,t);else{var e=l[t];if(e){u=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{p(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(1),n(2))},4:function(t){t.exports=JSON.parse('[{"title":"タイトル1","text":"テキスト1テキスト1テキスト1テキスト1テキスト1テキスト1テキスト1テキスト1テキスト1","img":"cat01.jpg","link":"//www.pexels.com/photo/animals-sweet-cat-kitty-57416/"},{"title":"タイトル2","text":"テキスト2","img":"cat02.jpg","link":"//www.pexels.com/photo/animal-pet-cute-kitten-45201/"},{"title":"タイトル3","text":"テキスト3","img":"cat03.jpg","link":"//www.pexels.com/photo/close-up-photography-of-sleeping-tabby-cat-1056251/"},{"title":"タイトル4","text":"テキスト4","img":"cat04.jpg","link":"//www.pexels.com/photo/light-landscape-sky-sunset-35888/"},{"title":"タイトル5","text":"テキスト5","img":"cat05.jpg","link":"//www.pexels.com/photo/black-cat-walking-on-road-1510543/"},{"title":"タイトル6","text":"テキスト6","img":"cat06.jpg","link":"#"},{"title":"タイトル7","text":"テキスト7","img":"cat07.jpg","link":"//www.pexels.com/photo/close-up-photo-of-brown-and-white-kitten-1870376/"},{"title":"タイトル8","text":"テキスト8","img":"cat08.jpg","link":"#"}]')},40:function(t,e){},45:function(t,e){},7:function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(3),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},9:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}},[[18,1,2]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL3NyYy9AanMvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9AanMvbW9kdWxlcy9hcHAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyJdLCJuYW1lcyI6WyJnIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsIm1vZHVsZSIsImV4cG9ydHMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwicHJvY2VzcyIsImRlZmF1bHRTZXRUaW1vdXQiLCJFcnJvciIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImNhbGwiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImxlbmd0aCIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwiYXJncyIsIkFycmF5IiwiYXJndW1lbnRzIiwiaSIsInB1c2giLCJwcm90b3R5cGUiLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJuYW1lIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJWdWUiLCJlbCIsImRhdGEiLCJjYXJkcyIsImNhcmRfZGF0YSIsImNhcmRMZW5ndGgiLCJjYXJkdGVzdCIsImFkZFRleHQiLCJyZW1vdmVUZXh0Iiwic2VsZWN0IiwiY29sIiwic3RhdGUiLCJhY3RpdmUiLCJzaG93IiwibGlzdCIsImlkIiwicm93Z2FwIiwiY29sZ2FwIiwibWV0aG9kcyIsInJvd1N0eWxlIiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsImNvbFN0eWxlIiwid2lkdGhOdWJlciIsIk51bWJlciIsInBhZGRpbmdUb3AiLCJwYWRkaW5nTGVmdCIsIndpZHRoIiwiU3R5bGVXaWR0aCIsIk1hdGgiLCJmbG9vciIsInNodWZmbGUiLCJfIiwiYWRkIiwibGFzdEl0ZW0iLCJwb3AiLCJyZW1vdmUiLCJzZWxlY3RFdiIsIm1haW4iLCJpdGVtIiwiZ2xvYmFsIiwic2V0SW1tZWRpYXRlIiwicmVnaXN0ZXJJbW1lZGlhdGUiLCJodG1sIiwiY2hhbm5lbCIsIm1lc3NhZ2VQcmVmaXgiLCJvbkdsb2JhbE1lc3NhZ2UiLCJuZXh0SGFuZGxlIiwidGFza3NCeUhhbmRsZSIsImN1cnJlbnRseVJ1bm5pbmdBVGFzayIsImRvYyIsImRvY3VtZW50IiwiYXR0YWNoVG8iLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsInRvU3RyaW5nIiwiaGFuZGxlIiwicnVuSWZQcmVzZW50IiwicG9zdE1lc3NhZ2UiLCJpbXBvcnRTY3JpcHRzIiwicG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyIsIm9sZE9uTWVzc2FnZSIsIm9ubWVzc2FnZSIsImNhblVzZVBvc3RNZXNzYWdlIiwiTWVzc2FnZUNoYW5uZWwiLCJwb3J0MSIsImV2ZW50IiwicG9ydDIiLCJjcmVhdGVFbGVtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic2NyaXB0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVtb3ZlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsInJhbmRvbSIsInNvdXJjZSIsImluZGV4T2YiLCJzbGljZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsImNhbGxiYWNrIiwidGFzayIsImNsZWFySW1tZWRpYXRlIiwidW5kZWZpbmVkIiwic2VsZiIsIlRpbWVvdXQiLCJjbGVhckZuIiwiX2lkIiwiX2NsZWFyRm4iLCJzY29wZSIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsb3NlIiwidW5yZWYiLCJyZWYiLCJlbnJvbGwiLCJtc2VjcyIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJfb25UaW1lb3V0Iiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImwiXSwibWFwcGluZ3MiOiJ5RUFBQSxJQUFJQSxFQUdKQSxFQUFJLFdBQ0gsT0FBT0MsS0FESixHQUlKLElBRUNELEVBQUlBLEdBQUssSUFBSUUsU0FBUyxjQUFiLEdBQ1IsTUFBT0MsR0FFYyxpQkFBWEMsU0FBcUJKLEVBQUlJLFFBT3JDQyxFQUFPQyxRQUFVTixHLGdGQ25CakIsbUIsZ0JDQ0EsSUFPSU8sRUFDQUMsRUFSQUMsRUFBVUosRUFBT0MsUUFBVSxHQVUvQixTQUFTSSxJQUNMLE1BQU0sSUFBSUMsTUFBTSxtQ0FFcEIsU0FBU0MsSUFDTCxNQUFNLElBQUlELE1BQU0scUNBc0JwQixTQUFTRSxFQUFXQyxHQUNoQixHQUFJUCxJQUFxQlEsV0FFckIsT0FBT0EsV0FBV0QsRUFBSyxHQUczQixJQUFLUCxJQUFxQkcsSUFBcUJILElBQXFCUSxXQUVoRSxPQURBUixFQUFtQlEsV0FDWkEsV0FBV0QsRUFBSyxHQUUzQixJQUVJLE9BQU9QLEVBQWlCTyxFQUFLLEdBQy9CLE1BQU1YLEdBQ0osSUFFSSxP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T0MsY0FDeEN4RyxNQUFRQSxLQUFLd0csYUFDckNuRyxFQUFRNEksZUFBa0Msb0JBQVRFLE1BQXdCQSxLQUFLRixxQkFDbEIsSUFBWDFDLEdBQTBCQSxFQUFPMEMsZ0JBQ3hDakosTUFBUUEsS0FBS2lKLGlCLGlDQzlEdkM3SSxFQUFPQyxRQUFVLFNBQVNELEdBb0J6QixPQW5CS0EsRUFBT2lLLGtCQUNYakssRUFBT2tLLFVBQVksYUFDbkJsSyxFQUFPbUssTUFBUSxHQUVWbkssRUFBT29LLFdBQVVwSyxFQUFPb0ssU0FBVyxJQUN4Q3BELE9BQU9xRCxlQUFlckssRUFBUSxTQUFVLENBQ3ZDc0ssWUFBWSxFQUNaQyxJQUFLLFdBQ0osT0FBT3ZLLEVBQU93SyxLQUdoQnhELE9BQU9xRCxlQUFlckssRUFBUSxLQUFNLENBQ25Dc0ssWUFBWSxFQUNaQyxJQUFLLFdBQ0osT0FBT3ZLLEVBQU9pQyxLQUdoQmpDLEVBQU9pSyxnQkFBa0IsR0FFbkJqSyxLIiwiZmlsZSI6Ii9kb2NzL2Fzc2V0cy9qcy9tYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiaW1wb3J0IFwid2hhdC1pbnB1dFwiO1xuXG5pbXBvcnQgYXBwIGZyb20gXCIuL21vZHVsZXMvYXBwXCI7IiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsImltcG9ydCBjYXJkX2RhdGEgZnJvbSBcIi4uL2RhdGFzL2NhcmQuanNvblwiO1xuY29uc3QgY29sbGlzdCA9IFt7aWQ6IDF9LHtpZDogMn0se2lkOiAzfSx7aWQ6IDR9LHtpZDogNX0se2lkOiA2fSx7aWQ6IDd9LHtpZDogOH0se2lkOiA5fSx7aWQ6IDEwfV07XG5jb25zdCByb3dnYXBsaXN0ID0gW3tpZDogMH0se2lkOiA1fSx7aWQ6IDEwfSx7aWQ6IDE1fSx7aWQ6IDIwfSx7aWQ6IDI1fSx7aWQ6IDMwfSx7aWQ6IDM1fSx7aWQ6IDQwfSx7aWQ6IDQ1fSx7aWQ6IDUwfV07XG5jb25zdCBjb2xnYXBsaXN0ID0gW3tpZDogMH0se2lkOiA1fSx7aWQ6IDEwfSx7aWQ6IDE1fSx7aWQ6IDIwfSx7aWQ6IDI1fSx7aWQ6IDMwfV07XG5cbmV4cG9ydCBjb25zdCBhcHAgPSBuZXcgVnVlKHtcbiAgZWw6IFwiI2FwcFwiLFxuICBkYXRhOiB7XG4gICAgY2FyZHM6IGNhcmRfZGF0YSxcbiAgICBjYXJkTGVuZ3RoOiBjYXJkX2RhdGEubGVuZ3RoLFxuICAgIGNhcmR0ZXN0OiBbXSxcbiAgICBhZGRUZXh0OiBudWxsLFxuICAgIHJlbW92ZVRleHQ6IG51bGwsXG4gICAgc2VsZWN0OiB7XG4gICAgICBjb2w6IHtcbiAgICAgICAgc3RhdGU6IDQsXG4gICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgIHNob3c6IGZhbHNlLFxuICAgICAgICBsaXN0OiBjb2xsaXN0XG4gICAgICB9LFxuICAgICAgcm93Z2FwOiB7XG4gICAgICAgIHN0YXRlOiAzMCxcbiAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgc2hvdzogZmFsc2UsXG4gICAgICAgIGxpc3Q6IHJvd2dhcGxpc3RcbiAgICAgIH0sXG4gICAgICBjb2xnYXA6IHtcbiAgICAgICAgc3RhdGU6IDIwLFxuICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICBzaG93OiBmYWxzZSxcbiAgICAgICAgbGlzdDogY29sZ2FwbGlzdFxuICAgICAgfSxcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICByb3dTdHlsZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXJnaW5Ub3A6IGAtJHt0aGlzLnNlbGVjdC5yb3dnYXAuc3RhdGV9cHhgLFxuICAgICAgICBtYXJnaW5MZWZ0OiBgLSR7dGhpcy5zZWxlY3QuY29sZ2FwLnN0YXRlfXB4YFxuICAgICAgfTtcbiAgICB9LFxuICAgIGNvbFN0eWxlOiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0IHdpZHRoTnViZXIgPSAoKDEgLyBOdW1iZXIodGhpcy5zZWxlY3QuY29sLnN0YXRlKSkgKiAxMDApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGFkZGluZ1RvcDogYCR7dGhpcy5zZWxlY3Qucm93Z2FwLnN0YXRlfXB4YCxcbiAgICAgICAgcGFkZGluZ0xlZnQ6IGAke3RoaXMuc2VsZWN0LmNvbGdhcC5zdGF0ZX1weGAsXG4gICAgICAgIHdpZHRoOiBgJHt3aWR0aE51YmVyfSVgXG4gICAgICB9O1xuICAgIH0sXG4gICAgU3R5bGVXaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcigoMSAvIE51bWJlcih0aGlzLnNlbGVjdC5jb2wuc3RhdGUpKSAqIDEwMCAqIDFlNCkgLyAxZTQ7XG4gICAgfSxcbiAgICBzaHVmZmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhcmRzID0gXy5zaHVmZmxlKHRoaXMuY2FyZHMpO1xuICAgIH0sXG4gICAgYWRkOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmKHRoaXMuY2FyZHMubGVuZ3RoICsgMSA8PSB0aGlzLmNhcmRMZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbGFzdEl0ZW0gPSB0aGlzLmNhcmR0ZXN0W3RoaXMuY2FyZHRlc3QubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMuY2FyZHRlc3QucG9wKCk7XG4gICAgICAgIHRoaXMuY2FyZHMucHVzaChsYXN0SXRlbSk7XG4gICAgICAgIHRoaXMuYWRkVGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVtb3ZlVGV4dCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZFRleHQgPSBg44GT44KM5Lul5LiK6L+95Yqg44Gn44GN44G+44Gb44KTYDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZih0aGlzLmNhcmRzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgIGNvbnN0IGxhc3RJdGVtID0gdGhpcy5jYXJkc1t0aGlzLmNhcmRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLmNhcmR0ZXN0ID0gWy4uLnRoaXMuY2FyZHRlc3QsbGFzdEl0ZW1dO1xuICAgICAgICB0aGlzLmNhcmRzLnBvcCgpO1xuICAgICAgICB0aGlzLmFkZFRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbW92ZVRleHQgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW1vdmVUZXh0ID0gYOOBk+OCjOS7peS4iuWJiumZpOOBp+OBjeOBvuOBm+OCk2A7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZWxlY3RFdjogZnVuY3Rpb24obWFpbixpdGVtKSB7XG4gICAgICBjb25zdCBpc051bWJlciA9IHR5cGVvZiBpdGVtID09PSBgbnVtYmVyYDtcbiAgICAgIGlmKGlzTnVtYmVyKSBtYWluLnN0YXRlID0gaXRlbTtcbiAgICAgIG1haW4uc2hvdyA9ICFtYWluLnNob3c7XG4gICAgfSxcbiAgfVxufSk7IiwiKGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXh0SGFuZGxlID0gMTsgLy8gU3BlYyBzYXlzIGdyZWF0ZXIgdGhhbiB6ZXJvXG4gICAgdmFyIHRhc2tzQnlIYW5kbGUgPSB7fTtcbiAgICB2YXIgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgdmFyIGRvYyA9IGdsb2JhbC5kb2N1bWVudDtcbiAgICB2YXIgcmVnaXN0ZXJJbW1lZGlhdGU7XG5cbiAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICAgIC8vIENhbGxiYWNrIGNhbiBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZ1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmV3IEZ1bmN0aW9uKFwiXCIgKyBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICAvLyBDb3B5IGZ1bmN0aW9uIGFyZ3VtZW50c1xuICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMV07XG4gICAgICB9XG4gICAgICAvLyBTdG9yZSBhbmQgcmVnaXN0ZXIgdGhlIHRhc2tcbiAgICAgIHZhciB0YXNrID0geyBjYWxsYmFjazogY2FsbGJhY2ssIGFyZ3M6IGFyZ3MgfTtcbiAgICAgIHRhc2tzQnlIYW5kbGVbbmV4dEhhbmRsZV0gPSB0YXNrO1xuICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSk7XG4gICAgICByZXR1cm4gbmV4dEhhbmRsZSsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGhhbmRsZSkge1xuICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bih0YXNrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gICAgICAgIHZhciBhcmdzID0gdGFzay5hcmdzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bklmUHJlc2VudChoYW5kbGUpIHtcbiAgICAgICAgLy8gRnJvbSB0aGUgc3BlYzogXCJXYWl0IHVudGlsIGFueSBpbnZvY2F0aW9ucyBvZiB0aGlzIGFsZ29yaXRobSBzdGFydGVkIGJlZm9yZSB0aGlzIG9uZSBoYXZlIGNvbXBsZXRlZC5cIlxuICAgICAgICAvLyBTbyBpZiB3ZSdyZSBjdXJyZW50bHkgcnVubmluZyBhIHRhc2ssIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBpbnZvY2F0aW9uLlxuICAgICAgICBpZiAoY3VycmVudGx5UnVubmluZ0FUYXNrKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBieSBkb2luZyBhIHNldFRpbWVvdXQuIHNldEltbWVkaWF0ZSB3YXMgdHJpZWQgaW5zdGVhZCwgYnV0IGluIEZpcmVmb3ggNyBpdCBnZW5lcmF0ZWQgYVxuICAgICAgICAgICAgLy8gXCJ0b28gbXVjaCByZWN1cnNpb25cIiBlcnJvci5cbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhc2sgPSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcnVuKHRhc2spO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW1tZWRpYXRlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7IHJ1bklmUHJlc2VudChoYW5kbGUpOyB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpIHtcbiAgICAgICAgLy8gVGhlIHRlc3QgYWdhaW5zdCBgaW1wb3J0U2NyaXB0c2AgcHJldmVudHMgdGhpcyBpbXBsZW1lbnRhdGlvbiBmcm9tIGJlaW5nIGluc3RhbGxlZCBpbnNpZGUgYSB3ZWIgd29ya2VyLFxuICAgICAgICAvLyB3aGVyZSBgZ2xvYmFsLnBvc3RNZXNzYWdlYCBtZWFucyBzb21ldGhpbmcgY29tcGxldGVseSBkaWZmZXJlbnQgYW5kIGNhbid0IGJlIHVzZWQgZm9yIHRoaXMgcHVycG9zZS5cbiAgICAgICAgaWYgKGdsb2JhbC5wb3N0TWVzc2FnZSAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgICAgIHZhciBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvbGRPbk1lc3NhZ2UgPSBnbG9iYWwub25tZXNzYWdlO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIiwgXCIqXCIpO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIC8vIEluc3RhbGxzIGFuIGV2ZW50IGhhbmRsZXIgb24gYGdsb2JhbGAgZm9yIHRoZSBgbWVzc2FnZWAgZXZlbnQ6IHNlZVxuICAgICAgICAvLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0RPTS93aW5kb3cucG9zdE1lc3NhZ2VcbiAgICAgICAgLy8gKiBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9jb21tcy5odG1sI2Nyb3NzRG9jdW1lbnRNZXNzYWdlc1xuXG4gICAgICAgIHZhciBtZXNzYWdlUHJlZml4ID0gXCJzZXRJbW1lZGlhdGUkXCIgKyBNYXRoLnJhbmRvbSgpICsgXCIkXCI7XG4gICAgICAgIHZhciBvbkdsb2JhbE1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gZ2xvYmFsICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoK2V2ZW50LmRhdGEuc2xpY2UobWVzc2FnZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4ICsgaGFuZGxlLCBcIipcIik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgc3VwcG9ydGVkLCB3ZSBzaG91bGQgYXR0YWNoIHRvIHRoZSBwcm90b3R5cGUgb2YgZ2xvYmFsLCBzaW5jZSB0aGF0IGlzIHdoZXJlIHNldFRpbWVvdXQgZXQgYWwuIGxpdmUuXG4gICAgdmFyIGF0dGFjaFRvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpO1xuICAgIGF0dGFjaFRvID0gYXR0YWNoVG8gJiYgYXR0YWNoVG8uc2V0VGltZW91dCA/IGF0dGFjaFRvIDogZ2xvYmFsO1xuXG4gICAgLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBlLmcuIGJyb3dzZXJpZnkgZW52aXJvbm1lbnRzLlxuICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIpIHtcbiAgICAgICAgLy8gRm9yIE5vZGUuanMgYmVmb3JlIDAuOVxuICAgICAgICBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChjYW5Vc2VQb3N0TWVzc2FnZSgpKSB7XG4gICAgICAgIC8vIEZvciBub24tSUUxMCBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICAgIC8vIEZvciB3ZWIgd29ya2Vycywgd2hlcmUgc3VwcG9ydGVkXG4gICAgICAgIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGRvYyAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSB7XG4gICAgICAgIC8vIEZvciBJRSA24oCTOFxuICAgICAgICBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpO1xuICAgIH1cblxuICAgIGF0dGFjaFRvLnNldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbiAgICBhdHRhY2hUby5jbGVhckltbWVkaWF0ZSA9IGNsZWFySW1tZWRpYXRlO1xufSh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IHR5cGVvZiBnbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzIDogZ2xvYmFsIDogc2VsZikpO1xuIiwidmFyIHNjb3BlID0gKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYpIHx8XG4gICAgICAgICAgICB3aW5kb3c7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbChzY29wZSwgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWRpYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9